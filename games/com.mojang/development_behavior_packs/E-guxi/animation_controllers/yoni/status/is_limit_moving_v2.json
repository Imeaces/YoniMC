{
  "format_version": "1.10.0",
  "animation_controllers": {
    "controller.animation.yoni.status.limit_moving_v2": {
      "initial_state": "loop1",
      "states": {
        "loop1": {
          "on_entry": [
            "v.position.x = query.position(0);",
            "v.position.y = query.position(1);",
            "v.position.z = query.position(2);",
            "v.position.delta.x = ((v.position.old.x ?? v.position.x) - v.position.x);",
            "v.position.delta.y = ((v.position.old.y ?? v.position.y) - v.position.y);",
            "v.position.delta.z = ((v.position.old.z ?? v.position.z) - v.position.z);",
          ],
          "transitions": [
            {
              "loop2": "(1.0)"
            }
          ]
        },
        "loop2": {
          "on_entry": [
            "/function yoni/status/limit_moving"
          ],
         "transitions": [
            {
              "loop1": "(1.0)"
            }
          ]
        }   
      }
    }
  }
}