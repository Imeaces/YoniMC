{
  "format_version": "1.10.0",
  "animation_controllers": {
    "controller.animation.entity.condition.guxi.val": {
      "initial_state": "while",
      "states": {
        "while": {
            //while (true)
          "transitions": [
            { // if (current_energy <= val.need_amount_of_energy_to_keep_stable) 
              //     goto lower_than_stable
                "lower_than_stable": "(v.is_energy_enough != 0 && query.scoreboard('guxi:energy') <= query.scoreboard('guxi:val_2001'))" },
            { // else goto higher_than_stable
                "higher_than_stable": "(v.is_energy_enough != 1 && query.scoreboard('guxi:energy') > query.scoreboard('guxi:val_2001'))" }
          ],
          "on_entry": [
              "v.is_energy_enough = (v.is_energy_enough ?? -1);"
          ]
        },
        "lower_than_stable": {
          "transitions": [
            // goto while
            { "while": "(1.0)" }
          ],
          // trigger event 
          "on_entry": [ "v.is_energy_enough = 0;" ]
        },
        "higher_than_stable": {
          "transitions": [
            // goto while
            { "while": "(1.0)" }
          ],
          // trigger event 
          "on_entry": [ "v.is_energy_enough = 1;" ]
        }
      }
    }
  }
}