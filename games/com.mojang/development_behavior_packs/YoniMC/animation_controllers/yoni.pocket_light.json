{
  "format_version": "1.10.0",
  "animation_controllers": {
    "controller.animation.yoni.pocket_light.item_scanner": {
      "initial_state": "default",
      "states": {
        "default": {
          "transitions": [
            { "torch": "query.is_item_name_any('slot.weapon.mainhand',0,'minecraft:torch')" }
          ],
          "on_exit": [ "/tag @s add isHoldingTorch" ]
        },
        "torch": {
          "transitions": [
            { "default": "!query.is_item_name_any('slot.weapon.mainhand',0,'minecraft:torch')" }
          ],
          "on_exit": [ "/tag @s remove isHoldingTorch" ]
        }
      }
    },
    "controller.animation.yoni.pocket_light": {
      "initial_state": "loop1",
      "states": {
        "loop1": {
          "on_entry": [ "/function yoni/pocket_light/loop" ],
          "transitions": [
            { "loop2": "(1.0)" }
          ]
        },
        "loop2": {
          "on_entry": [ "/function yoni/pocket_light/loop" ],
          "transitions": [
            { "loop1": "(1.0)" }
          ]
        }
      }
    }
  }
}